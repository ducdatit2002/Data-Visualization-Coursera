<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Vertical Bar Chart</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>

</head>
<body>
  <script>
    //var numbers = [3100,250,35,1800,90,140]
    var numbers = [3100,250,35,1800,90, 20, 4200, 965,140]

    var width = 600;
    var height = 500;

    //linear scale (i.e. continous scale)
    var myScale = d3.scaleLinear()
                    //.domain([-100,4000]) //input
                    //.range([0,500]) //range of pixels (max height of svg)
                    .domain([d3.min(numbers, function(d){return (d - 50);}),
                      d3.max(numbers, function(d){return (d + 50);})])
                    .range([0,height])

    /*for(var i = 0; i < numbers.length; i++)
    {
      alert(numbers[i] + " : " + myScale(numbers[i]))
    }*/

    var svg = d3.select("body")
                .append("svg")
                .attr("width", width)
                .attr("height", height)
                .style("background","pink")


    var rectangles = svg.selectAll("rect")
                        .data(numbers)
                        .enter()
                        .append("rect")
                        .attr("height",function(d){return myScale(d)})
                        .attr("width",25)
                        .attr("x",function(d,i){
                          return i*28;
                        })
                        .attr("y",function(d,i){
                          return height-(myScale(d));
                        })
                        .style("fill",function(d){
                          if(d > 20)
                            return "blue";
                          else {
                            return "green";
                          }
                        })




  </script>

</body>
</html>
